import{r as d,j as r,L as f}from"./index-C7YeYPMv.js";import{i as g}from"./metadataService-BYRtfFaS.js";function D({episodes:e,size:t}){const[h,o]=d.useState({}),s=d.useRef([]);return d.useEffect(()=>{(async i=>{if(!i||i.length===0){o({}),s.current=[];return}const c=i.map(n=>n.episode_id);if(c.length!==s.current.length||c.some(n=>!s.current.includes(n)))o({});else return;const l=i.map(n=>g.getImageDimensions(g.getImageUrl({episode:n,size:t})).then(a=>({episode_id:n.episode_id,...a})).catch(()=>({episode_id:n.episode_id,width:0,height:0})));Promise.all(l).then(n=>{o(a=>{const m={...a};return n.forEach(u=>{m[u.episode_id]={width:u.width,height:u.height}}),m})}),s.current=c})(e)},[e,t]),{dimensions:h,isLoading:!e||Object.keys(h).length<e.length}}function p({query:e,label:t}){return r.jsx(f,{to:"/browse/results",search:e,className:"whitespace-nowrap underline underline-offset-4 decoration-1",children:t})}function E({term:e}){return r.jsx(p,{query:{term:e.term_id},label:r.jsxs(r.Fragment,{children:[e.term," (",e.usageCount,")"]})})}export{p as B,E as T,D as u};
